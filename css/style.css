:root{
  --bg:#0f1724; --card:#0b1220; --accent:#ff6b81; --muted:#99a0b0; --glass: rgba(255,255,255,0.03);
}
*{box-sizing:border-box}
/*
  Prevent mobile "pull-to-refresh" and scrolling chain on supporting browsers.
  Most modern mobile browsers respect `overscroll-behavior` which stops the
  browser's default pull-to-refresh and scroll chaining behavior when set.
*/
html,body{height:100%;margin:0;font-family:Inter,Segoe UI,Arial,sans-serif;background:linear-gradient(180deg,#071023 0%, #081427 60%);color:#eaf0ff;overscroll-behavior-y: none;}

.page{display:flex;min-height:100vh}
.page{position:relative;z-index:1}
.left{flex:1;display:flex;align-items:center;justify-content:center;padding:40px}
.right{width:420px;display:flex;flex-direction:column;justify-content:center;padding:40px}

/* starfall canvas overlay */
#starfall-canvas{position:fixed;inset:0;width:100%;height:100%;pointer-events:none;z-index:0}

/* Mobile slide-in: start hidden above the viewport, then slide down into place */
@media (max-width:900px){
  #starfall-canvas{
    transform: translateY(-100%);
    transition: transform 600ms cubic-bezier(.2,.9,.3,1);
    will-change: transform;
  }
  /* when JS adds .slide-in the canvas moves into view */
  #starfall-canvas.slide-in{
    transform: translateY(0);
  }
}

.slideshow{position:relative;width:100%;max-width:760px;border-radius:12px;overflow:hidden;box-shadow:0 10px 30px rgba(2,6,23,0.6)}
.slides{display:flex;transition:transform .6s ease;height:60vh}
.slides{touch-action: pan-y;} /* prefer vertical page scrolling, allow JS to detect horizontal swipes */
.slides > .slide{flex:0 0 100%;min-width:100%;display:flex;align-items:center;justify-content:center}
/* show the whole image (no cropping) in the slideshow viewport */
.slides img{max-width:100%;max-height:60vh;object-fit:contain;display:block}
.nav{position:absolute;top:50%;transform:translateY(-50%);background:var(--glass);border:0;padding:12px 16px;color:var(--accent);font-size:24px;cursor:pointer;border-radius:8px}
.prev{left:14px}
.next{right:14px}

.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:28px;border-radius:12px;backdrop-filter:blur(6px);box-shadow:0 6px 24px rgba(2,6,23,0.6)}
.propose{font-size:36px;margin:0 0 8px}
.names{color:var(--accent);font-weight:600;margin:0 0 18px}
.desc{color:var(--muted);margin-bottom:20px}
.actions{display:flex;gap:12px}
.btn{padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);cursor:pointer;background:transparent;color:inherit}
.btn.primary{background:linear-gradient(90deg,var(--accent),#ff9eb3);color:#081122;border:none}

.credits{font-size:12px;color:var(--muted);margin-top:14px}

/* Reveal-on-scroll styles */
.reveal-hidden{opacity:0;transform:translateY(24px);transition:opacity .7s ease, transform .7s cubic-bezier(.2,.9,.3,1);pointer-events:none}
.reveal-visible{opacity:1;transform:none;pointer-events:auto}

/* modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);visibility:hidden;opacity:0;transition:opacity .2s;overflow-y: auto; padding:20px}
.modal{z-index:9999}
.modal[aria-hidden="false"]{visibility:visible;opacity:1}
.modal-content{background:var(--card);padding:20px;border-radius:10px;text-align:center;min-width:300px}

.modal-content .modal-image{max-width:92%;height:auto;border-radius:10px;display:block;margin:12px auto;overflow-y: auto}
.modal-content iframe {
  max-width: 100%; /* Ensures iframe doesn't overflow its container */
  max-height: 100%;
  height: 100%; /* Allows height to scale proportionally */
}
.videoWrapper {
  position: relative;
  padding-bottom: 56.25%;
  /* 16:9 */
  padding-top: 25px;
  height: 0;
}

.videoWrapper iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
@media (max-width: 768px) {
  .modal-content {
    max-width: 95%; /* Make it slightly wider on smaller screens */
    width: auto; /* Let the content decide the width up to max-width */
    margin: 10px; /* Add a small margin around the content */
  }
}


/* card image (used inside the proposal card) */
.card .card-image{
  width:100%;
  aspect-ratio: 16/9; /* crop to a consistent ratio and scale with viewport */
  max-height: 45vh; /* never exceed a large portion of the screen on small devices */
  object-fit: cover; /* crop to fill the box */
  border-radius:10px;
  display:block;
  margin-bottom:14px;
}

/* Fallback for browsers without aspect-ratio support */
@supports not (aspect-ratio: 1/1) {
  .card .card-image{ height: clamp(160px, 30vh, 320px); width:100%; object-fit:cover }
}

@media (max-width:900px){
  .page{flex-direction:column}
  /* On small screens keep the left content centered and take full viewport height */
  .left{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
  /* Start with the right section collapsed to 0x0 and hidden from interaction.
     A `.revealed` class will expand it. Use max-height for smooth animations. */
  .right{
    width:100%;
    max-height:0; /* collapsed state */
    padding:0 24px; /* reduced padding when collapsed to avoid overflow */
    overflow:hidden;
    opacity:0;
    pointer-events:none;
    transition: max-height 420ms cubic-bezier(.2,.9,.3,1), opacity 320ms ease, padding 320ms ease;
  }
  /* visible state after swipe-up */
  .right.revealed{
    max-height:80vh; /* allow the right panel to grow to a large portion of the screen */
    padding:40px;
    opacity:1;
    pointer-events:auto;
  }
  /* Slight visual hint when collapsed: keep slides area a bit shorter */
  .slides{height:50vh}
}

/* Loading overlay + spinner */
.loading-overlay{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  /* keep the page (including the starfall canvas) visible by using a transparent overlay
     and only give the spinner a small localized backdrop so the animation remains visible */
  background: transparent;
  z-index:10000;
  transition:opacity .32s ease; 
}
.loading-overlay[aria-hidden="true"]{opacity:0;pointer-events:none}
.spinner{
  width:64px;
  height:64px;
  border-radius:50%;
  border:6px solid rgba(255,255,255,0.08);
  border-top-color:var(--accent);
  box-shadow:0 4px 14px rgba(0,0,0,0.4);
  animation:spin 900ms linear infinite;
  position:relative; /* for localized backdrop pseudo-element */
}
/* small soft backdrop behind the spinner so it's readable while leaving the rest of the page visible */
.spinner::before{
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 160px;
  height: 160px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(2,6,23,0.72) 0%, rgba(2,6,23,0.48) 40%, rgba(2,6,23,0.08) 100%);
  filter: blur(6px);
  z-index: -1;
}
@keyframes spin{to{transform:rotate(360deg)}}

/* Small screens: smaller spinner */
@media (max-width:420px){
  .spinner{width:44px;height:44px;border-width:5px}
}
